<!--
Sync Impact Report:
Version: 0.0.0 → 1.0.0
Change Type: MAJOR (Initial constitution creation)
Ratification: 2025-10-21

Principles Defined:
- I. 高品質程式碼 (High-Quality Code)
- II. 可測試性 (Testability)
- III. 最小可行產品 (MVP First)
- IV. 避免過度設計 (Avoid Over-Engineering)
- V. 正體中文優先 (Traditional Chinese First)

Templates Status:
- ✅ .specify/templates/plan-template.md - Constitution Check section ready
- ✅ .specify/templates/spec-template.md - User scenarios enforce testability
- ✅ .specify/templates/tasks-template.md - MVP and incremental delivery aligned

Follow-up TODOs: None
-->

# GitLab MR Analysis 專案憲章

## 核心原則

### I. 高品質程式碼

**原則內容**：

- 所有程式碼 MUST 遵循最佳實踐與編碼標準
- 程式碼 MUST 具有清晰的結構與命名
- 每個模組 MUST 有明確的單一職責
- 技術債務 MUST 在累積前解決或明確記錄
- 複雜度 MUST 被量化追蹤並需要明確的業務理由

**理由**：
高品質的程式碼是長期可維護性的基礎。清晰的結構降低認知負擔，使團隊能夠快速理解與修改系統。明確的職責邊界防止模組間的耦合，讓系統更容易擴展與測試。

### II. 可測試性 (NON-NEGOTIABLE)

**原則內容**：

- 每個功能 MUST 是可獨立測試的
- 用戶故事 MUST 包含可驗證的接受條件
- 實作前 MUST 先定義測試策略
- 測試覆蓋率 MUST 包含：
  - 合約測試（Contract tests）- 驗證介面契約
  - 整合測試（Integration tests）- 驗證模組協作
  - 單元測試（Unit tests）- 驗證個別元件
- 若採用 TDD：測試 MUST 先寫並且先失敗，再進行實作

**理由**：
可測試性是品質保證的核心。獨立可測試的功能讓我們能夠快速驗證系統行為，及早發現缺陷。明確的測試策略確保我們測試的是正確的事物，而不是僅僅追求覆蓋率數字。TDD 強制我們思考介面設計與需求，產出更簡潔、更易維護的程式碼。

### III. 最小可行產品 (MVP First)

**原則內容**：

- 每個功能 MUST 定義優先級（P1, P2, P3...）
- P1 功能 MUST 能夠獨立交付價值
- 實作順序 MUST 按優先級進行
- 每個用戶故事 MUST 能夠獨立部署與驗證
- 完成 MVP 後才 SHOULD 考慮增強功能

**理由**：
MVP 優先策略確保我們先交付核心價值，而不是浪費時間在可能不需要的功能上。優先級排序強制我們思考什麼是真正重要的。獨立可部署的用戶故事讓我們能夠快速獲得回饋，及早調整方向。這個方法降低風險，加快價值交付速度。

### IV. 避免過度設計

**原則內容**：

- 遵循 YAGNI 原則（You Aren't Gonna Need It）
- MUST NOT 實作「未來可能需要」的功能
- 抽象層級 MUST 由實際需求驅動，而非預測
- 設計模式 MUST 解決現有問題，而非展示技術能力
- 複雜度增加 MUST 有明確的當下需求作為理由

**理由**：
過度設計浪費時間，增加維護成本，並且降低程式碼可讀性。未使用的抽象層成為認知負擔。簡單的解決方案更容易理解、測試與修改。當需求真正出現時，我們可以重構；但預測性的設計經常猜錯，導致浪費的工作與不必要的複雜性。

### V. 正體中文優先

**原則內容**：

- 所有文件 MUST 使用正體中文撰寫
- 程式碼註解 MUST 使用正體中文
- 提交訊息 MUST 使用正體中文
- 用戶面向的訊息 MUST 使用正體中文
- 技術術語 SHOULD 保留英文，但 MUST 附上中文說明
- 變數名稱、函數名稱、類別名稱 SHOULD 使用英文（遵循程式語言慣例）

**理由**：
使用正體中文確保團隊成員能夠用母語思考與溝通，降低誤解風險。中文文件更容易讓非技術利害關係人理解專案狀態與決策。技術術語保留英文避免翻譯造成的歧義，同時附上中文說明確保理解一致。程式碼使用英文命名遵循業界標準，提升程式碼可維護性與國際協作可能性。

## 品質門檻

### 必須驗證項目

在進行任何功能開發前，MUST 確認以下檢查點：

1. **測試策略已定義**
   - [ ] 已識別需要的測試類型（合約/整合/單元）
   - [ ] 每個用戶故事有明確的驗收條件
   - [ ] 測試可獨立執行與驗證

2. **MVP 範圍已確認**
   - [ ] 用戶故事已排定優先級
   - [ ] P1 功能能夠獨立交付價值
   - [ ] 不包含「未來可能需要」的功能

3. **複雜度已評估**
   - [ ] 無不必要的抽象層
   - [ ] 設計模式解決現有問題
   - [ ] 所有複雜度有明確業務理由

4. **文件使用正體中文**
   - [ ] 規格文件使用正體中文
   - [ ] 技術術語附有中文說明
   - [ ] 用戶面向內容完全中文化

### 複雜度例外處理

若專案違反簡單性原則，MUST 在實作計畫中填寫複雜度追蹤表：

| 違反項目 | 需要理由 | 被拒絕的簡單替代方案與原因 |
|---------|---------|--------------------------|
| [例如：第四個專案] | [當前需求] | [為何三個專案不足] |
| [例如：Repository 模式] | [具體問題] | [為何直接 DB 存取不足] |

## 開發工作流程

### 功能開發流程

1. **規格階段** (`/speckit.specify`)
   - 使用正體中文撰寫用戶故事
   - 定義優先級（P1, P2, P3...）
   - 每個故事 MUST 獨立可測試
   - 通過憲章檢查

2. **計畫階段** (`/speckit.plan`)
   - 研究技術方案（Phase 0: research.md）
   - 設計資料模型（Phase 1: data-model.md）
   - 定義契約介面（Phase 1: contracts/）
   - 建立快速入門（Phase 1: quickstart.md）
   - 驗證符合憲章原則

3. **任務分解** (`/speckit.tasks`)
   - 按用戶故事分組任務
   - 優先實作 P1（MVP）
   - 每個故事獨立可交付
   - 標記可平行執行的任務

4. **實作階段** (`/speckit.implement`)
   - 若採用 TDD：先寫測試並確認失敗
   - 實作最小可行解決方案
   - 避免預測性設計
   - 每個用戶故事完成後獨立驗證

5. **分析階段** (`/speckit.analyze`)
   - 檢查一致性
   - 驗證品質門檻
   - 確認符合憲章原則

### 審查要求

- 所有 PR/MR MUST 驗證憲章合規性
- 複雜度增加 MUST 有明確理由
- 文件 MUST 使用正體中文
- 測試 MUST 覆蓋關鍵路徑

## 治理規範

### 修訂程序

1. 提出修訂建議（包含理由與影響範圍）
2. 團隊討論與共識
3. 更新憲章文件
4. 同步相關範本與文件
5. 遞增版本號

### 版本控制規則

遵循語意化版本（Semantic Versioning）：

- **MAJOR（主版本）**：向後不相容的治理/原則移除或重新定義
- **MINOR（次版本）**：新增原則/章節或實質擴充指引
- **PATCH（修訂版）**：澄清、用詞修正、錯字修正、非語意的精煉

### 合規性審查

- 每個功能開發 MUST 經過憲章檢查（Constitution Check）
- 計畫階段完成後 MUST 重新檢查
- 發現違反原則時 MUST 記錄理由或修正
- 定期審查憲章的適用性與有效性

### 相關文件

- 開發指引：使用 `/speckit.*` 命令查看執行工作流程
- 範本文件：`.specify/templates/` 目錄
- 功能規格：`specs/[###-feature-name]/` 目錄

---

**版本**: 1.0.0 | **批准日期**: 2025-10-21 | **最後修訂**: 2025-10-21
