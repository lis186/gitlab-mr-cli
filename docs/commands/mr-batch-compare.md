# mr-batch-compare

æ‰¹æ¬¡åˆ†æå¤šå€‹ MR çš„é€±æœŸæ™‚é–“èˆ‡é—œéµæŒ‡æ¨™ï¼Œå¿«é€Ÿè­˜åˆ¥æµç¨‹ç“¶é ¸ã€‚

## ç”¨é€”

- æ‰¹æ¬¡æ¯”è¼ƒå¤šå€‹ MR çš„é€±æœŸæ™‚é–“
- å››éšæ®µåˆ†è§£ï¼šDev Time / Wait Time / Review Time / Merge Time
- è­˜åˆ¥ AI Review vs Human Review
- æ”¯æ´ MR é¡å‹åˆ†é¡ï¼ˆStandard / Draft / Active Developmentï¼‰

## ä½¿ç”¨æ–¹å¼

```bash
# åŸºæœ¬ç”¨æ³•ï¼šåˆ†ææŒ‡å®šæ—¥æœŸç¯„åœçš„ MR
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30

# å•Ÿç”¨é¡å‹åˆ†é¡
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30 \
  --classify-by-type --threshold-hours 2

# æ’é™¤ç„¡å¯©æŸ¥çš„ MR
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30 \
  --exclude-no-review

# åŒ¯å‡º CSV
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30 \
  --csv -o report.csv

# åŒ¯å‡º JSON
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30 \
  --json -o report.json
```

## åƒæ•¸èªªæ˜

### åŸºæœ¬åƒæ•¸

| åƒæ•¸ | èªªæ˜ |
|------|------|
| `-p, --project` | GitLab å°ˆæ¡ˆï¼ˆID æˆ–è·¯å¾‘ï¼‰ |
| `-t, --token` | GitLab Tokenï¼ˆæˆ–ç”¨ç’°å¢ƒè®Šæ•¸ `GITLAB_TOKEN`ï¼‰ |
| `-u, --url` | GitLab URLï¼ˆé è¨­ `https://gitlab.com`ï¼‰ |

### æ—¥æœŸç¯„åœ

| åƒæ•¸ | èªªæ˜ |
|------|------|
| `--since` | é–‹å§‹æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰ |
| `--until` | çµæŸæ—¥æœŸï¼ˆYYYY-MM-DDï¼‰ |

### éæ¿¾é¸é …

| åƒæ•¸ | èªªæ˜ |
|------|------|
| `--author` | éæ¿¾ç‰¹å®šä½œè€… |
| `--authors` | éæ¿¾å¤šä½ä½œè€…ï¼ˆé€—è™Ÿåˆ†éš”ï¼‰ |
| `--labels` | éæ¿¾ç‰¹å®š labelsï¼ˆé€—è™Ÿåˆ†éš”ï¼‰ |
| `--status` | MR ç‹€æ…‹ï¼š`merged` / `open` / `closed` / `all` |
| `--min-days` | é€±æœŸæ™‚é–“ â‰¥ N å¤© |
| `--max-days` | é€±æœŸæ™‚é–“ â‰¤ N å¤© |
| `--exclude-no-review` | æ’é™¤ç„¡å¯©æŸ¥çš„ MR |
| `--ai-review-only` | åƒ…é¡¯ç¤ºæœ‰ AI Review çš„ MR |
| `--human-review-only` | åƒ…é¡¯ç¤ºåªæœ‰ Human Review çš„ MR |

### éšæ®µéæ¿¾

å¯é‡å°å››å€‹éšæ®µé€²è¡Œéæ¿¾ï¼š

- `--dev-days-min/max`ã€`--dev-percent-min/max`
- `--wait-days-min/max`ã€`--wait-percent-min/max`
- `--review-days-min/max`ã€`--review-percent-min/max`
- `--merge-days-min/max`ã€`--merge-percent-min/max`

### åˆ†é¡èˆ‡æ’åº

| åƒæ•¸ | èªªæ˜ |
|------|------|
| `--classify-by-type` | å•Ÿç”¨ MR é¡å‹åˆ†é¡ |
| `--threshold-hours` | Active Development é–¾å€¼ï¼ˆé è¨­ 2 å°æ™‚ï¼‰ |
| `--sort` | æ’åºæ¬„ä½ï¼š`cycleDays` / `commits` / `files` / `lines` / `comments` ç­‰ |
| `--order` | æ’åºæ–¹å‘ï¼š`asc` / `desc` |
| `--limit` | é™åˆ¶çµæœæ•¸é‡ï¼ˆé è¨­ 100ï¼‰ |

### è¼¸å‡ºæ ¼å¼

| åƒæ•¸ | èªªæ˜ |
|------|------|
| `--format` | è¡¨æ ¼æ ¼å¼ï¼š`minimal` / `standard` / `full` |
| `--json` | JSON æ ¼å¼è¼¸å‡º |
| `--csv` | CSV æ ¼å¼è¼¸å‡º |
| `-o, --output` | è¼¸å‡ºæª”æ¡ˆè·¯å¾‘ |
| `--include-events` | JSON è¼¸å‡ºåŒ…å«è©³ç´°äº‹ä»¶ |

## è¼¸å‡ºç¯„ä¾‹

### åŸºæœ¬è¼¸å‡ºï¼ˆé è¨­ï¼‰

```bash
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30
```

```
ğŸ” MR æ‰¹æ¬¡æ¯”è¼ƒçµæœ

å°ˆæ¡ˆ: your-team/your-project
æŸ¥è©¢æ™‚é–“: 2025/11/28 ä¸‹åˆ4:50:49

â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ MR   â”‚ æ¨™é¡Œ           â”‚ ä½œè€…     â”‚ å¯©æŸ¥è€…     â”‚ éšæ®µ     â”‚ é€±æœŸ  â”‚ æäº¤ â”‚ æª”æ¡ˆ â”‚ è¡Œæ•¸  â”‚ è©•è«– â”‚ è¼ªæ•¸ â”‚ AI â”‚
â”‚      â”‚                â”‚          â”‚            â”‚          â”‚ (å¤©)  â”‚      â”‚      â”‚       â”‚      â”‚      â”‚    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚ 125  â”‚ Fix login bug  â”‚ dev1     â”‚ reviewer1  â”‚ å·²åˆä½µ   â”‚ 0.5   â”‚ 2    â”‚ 3    â”‚ 45    â”‚ 2    â”‚ 1    â”‚ âœ… â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚ 124  â”‚ Add feature X  â”‚ dev2     â”‚ reviewer2  â”‚ å·²åˆä½µ   â”‚ 1.2   â”‚ 5    â”‚ 8    â”‚ 120   â”‚ 4    â”‚ 2    â”‚ âœ… â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚ 123  â”‚ Refactor API   â”‚ dev1     â”‚ reviewer1  â”‚ å·²åˆä½µ   â”‚ 2.0   â”‚ 3    â”‚ 5    â”‚ 80    â”‚ 0    â”‚ 0    â”‚ âŒ â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

ğŸ“Š çµ±è¨ˆæ‘˜è¦
  åˆ†æ MR æ•¸: 3
  P50 é€±æœŸæ™‚é–“: 1.2 å¤©
  P90 é€±æœŸæ™‚é–“: 2.0 å¤©
```

### åŠ ä¸Š `--classify-by-type`ï¼ˆMR é¡å‹åˆ†é¡ï¼‰

```bash
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30 \
  --classify-by-type --threshold-hours 2
```

é¡å¤–é¡¯ç¤ºï¼š
```
ğŸ“Š MR é¡å‹åˆ†ä½ˆ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Standard MR:          30 (67%)  â† æ­£å¸¸æµç¨‹ï¼šé–‹ç™¼ â†’ æäº¤ â†’ å¯©æŸ¥ â†’ åˆä½µ
  Draft MR:             10 (22%)  â† ä½¿ç”¨ Draft åŠŸèƒ½çš„ MR
  Active Development:    5 (11%)  â† é–‹ç™¼æ™‚é–“ < 2 å°æ™‚çš„å¿«é€Ÿ MR

ğŸ“Š å„é¡å‹é€±æœŸæ™‚é–“æ¯”è¼ƒ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  é¡å‹                P50 é€±æœŸ    P50 Wait Time
  Standard MR         1.5 å¤©      3.2 å°æ™‚
  Draft MR            2.1 å¤©      1.8 å°æ™‚      â† Draft æ¸›å°‘ Wait Time
  Active Development  0.3 å¤©      0.5 å°æ™‚      â† å¿«é€Ÿè¿­ä»£
```

### åŠ ä¸Š `--format full`ï¼ˆå®Œæ•´æ™‚é–“è»¸ï¼‰

```bash
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30 \
  --format full
```

æ¯å€‹ MR é¡å¤–é¡¯ç¤ºè¦–è¦ºåŒ–æ™‚é–“è»¸ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MR   â”‚ æ™‚é–“è»¸                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 125  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆ                                               â”‚
â”‚      â”‚ Dev         Wait     Review  Merge                                      â”‚
â”‚      â”‚ (2h)        (8h)     (4h)    (1h)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ™‚é–“è»¸åœ–ä¾‹:
  â–ˆ é–‹ç™¼éšæ®µ (Dev)    â–ˆ ç­‰å¾…å¯©æŸ¥ (Wait)
  â–ˆ å¯©æŸ¥éšæ®µ (Review)  â–ˆ åˆä½µéšæ®µ (Merge)
```

### åŠ ä¸Š `--rounds-detail`ï¼ˆReview è¼ªæ•¸è©³æƒ…ï¼‰

```bash
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30 \
  --rounds-detail
```

é¡å¤–é¡¯ç¤ºï¼š
```
ğŸ“Š Review Rounds åˆ†æ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  MR #125: 2 è¼ª
    ç¬¬ 1 è¼ª: æäº¤ â†’ å¯©æŸ¥å›è¦† (2.5h)
    ç¬¬ 2 è¼ª: ä¿®æ­£ â†’ æ ¸å‡† (1.2h)

  MR #124: 3 è¼ª âš ï¸ è¼ƒå¤šè¼ªæ¬¡
    ç¬¬ 1 è¼ª: 4.1h
    ç¬¬ 2 è¼ª: 2.3h
    ç¬¬ 3 è¼ª: 0.8h
```

### è¼¸å‡ºæ ¼å¼æ¯”è¼ƒ

| åƒæ•¸ | è¼¸å‡ºå…§å®¹ |
|------|----------|
| ï¼ˆé è¨­ï¼‰ | MR åˆ—è¡¨ + åŸºæœ¬çµ±è¨ˆ |
| `--classify-by-type` | + MR é¡å‹åˆ†ä½ˆ + å„é¡å‹æ¯”è¼ƒ |
| `--format full` | + è¦–è¦ºåŒ–æ™‚é–“è»¸ |
| `--rounds-detail` | + Review è¼ªæ•¸è©³æƒ… |
| `--csv` | åŒ¯å‡ºç‚º CSV æª”æ¡ˆ |
| `--json` | åŒ¯å‡ºç‚º JSON æª”æ¡ˆ |
| `--json --include-events` | JSON + å®Œæ•´äº‹ä»¶æ™‚é–“è»¸ |

## å¸¸è¦‹ç”¨æ³•

### ä¸»ç®¡é€±å ±åˆ†æ

```bash
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30 \
  --classify-by-type --threshold-hours 2 \
  --exclude-no-review --limit 500
```

### åŒ¯å‡ºåœ˜éšŠæ•¸æ“š

```bash
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30 \
  --csv -o monthly-report.csv
```

### åˆ†æç‰¹å®šä½œè€…

```bash
gitlab-mr mr-batch-compare -p your-team/your-project \
  --since 2025-11-01 --until 2025-11-30 \
  --author john.doe
```
